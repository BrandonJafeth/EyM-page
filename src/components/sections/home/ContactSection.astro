---
import { Image } from 'astro:assets';
import siteData from '../../../data/site.json';
import SectionTitle from '../../common/SectionTitle.astro';

// Image URL from data or existing assets (using the one from Hero for consistency)
const teamImage = "https://res.cloudinary.com/dkwvaxxdw/image/upload/q_auto,f_auto/v1770506535/_MG_0084_zm4prs.jpg";

---

<section class="py-16 md:py-24 bg-[#F9FAFB] relative overflow-hidden">
  <div class="container mx-auto px-6 md:px-30">
    
    <SectionTitle
      title="Estamos para Atenderte"
      subtitle="CONTÁCTANOS"
      theme="light"
    >
      <p class="text-gray-600 font-body text-base md:text-lg max-w-2xl mx-auto">
        El primer contacto gratuito para conocer tu caso y ofrecerte la mejor solución legal
      </p>

      <div class="w-16 h-0.5 bg-accent mx-auto mt-6 md:mt-8 opacity-50"></div>
    </SectionTitle>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 md:gap-12 items-stretch max-w-7xl mx-auto">
      
      <!-- Contact Info Column -->
      <div class="space-y-4 md:space-y-6 fade-in-section flex flex-col pt-0 lg:pt-0">
        
        <!-- Phone Card -->
        <div class="bg-white p-6 md:p-8 shadow-sm border-l-4 border-accent flex items-center gap-4 md:gap-5 group hover:shadow-md transition-shadow duration-300">
          <div class="w-10 h-10 md:w-14 md:h-14 rounded-full border border-accent/30 flex items-center justify-center text-accent group-hover:bg-accent group-hover:text-white transition-colors duration-300 flex-shrink-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="md:w-6 md:h-6"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
          </div>
          <div>
            <span class="block font-heading text-[10px] md:text-sm uppercase tracking-[0.15em] text-gray-500 mb-1 md:mb-3">Teléfono</span>
            <div class="flex flex-col gap-0 md:gap-2">
              <a href={`tel:${siteData.contact.phone.replace(/\s/g, '')}`} class="font-heading text-lg md:text-2xl text-primary hover:text-accent transition-colors">
                {siteData.contact.phone}
              </a>
              {siteData.contact.phone_secondary && (
                 <a href={`tel:${siteData.contact.phone_secondary.replace(/\s/g, '')}`} class="font-heading text-lg md:text-2xl text-primary hover:text-accent transition-colors">
                  {siteData.contact.phone_secondary}
                </a>
              )}
            </div>
          </div>
        </div>

        <!-- Email Card -->
        <div class="bg-white p-6 md:p-8 shadow-sm border-l-4 border-accent flex items-center gap-4 md:gap-5 group hover:shadow-md transition-shadow duration-300">
          <div class="w-10 h-10 md:w-14 md:h-14 rounded-full border border-accent/30 flex items-center justify-center text-accent group-hover:bg-accent group-hover:text-white transition-colors duration-300 flex-shrink-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="md:w-6 md:h-6"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
          </div>
          <div>
            <span class="block font-heading text-[10px] md:text-sm uppercase tracking-[0.15em] text-gray-500 mb-1 md:mb-3">Email</span>
            <a href={`mailto:${siteData.contact.email}`} class="font-heading text-base md:text-xl lg:text-2xl text-primary hover:text-accent transition-colors break-all">
              {siteData.contact.email}
            </a>
          </div>
        </div>

        <!-- Hours Card -->
        <div class="bg-white p-6 md:p-8 shadow-sm border-l-4 border-accent flex items-center gap-4 md:gap-5 group hover:shadow-md transition-shadow duration-300">
           <!-- Clock Icon -->
           <div class="w-10 h-10 md:w-14 md:h-14 rounded-full border border-accent/30 flex items-center justify-center text-accent group-hover:bg-accent group-hover:text-white transition-colors duration-300 flex-shrink-0">
             <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="md:w-6 md:h-6"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
           </div> 
           <div>
            <span class="block font-heading text-[10px] md:text-sm uppercase tracking-[0.15em] text-gray-500 mb-1 md:mb-3">Horario de Atención</span>
            <div class="space-y-1 font-body text-primary text-sm md:text-lg">
                <p class="text-xs md:text-sm uppercase tracking-wider text-accent font-bold mb-1">Lunes a Viernes (Cita Previa)</p>
                <div class="flex flex-col gap-1">
                  <p><span class="font-bold">Liberia:</span> 9:00 AM - 5:00 PM</p>
                  <p><span class="font-bold">Cañas:</span> 9:00 AM - 12:00 PM</p>
                </div>
            </div>
          </div>
        </div>

      </div>

      <!-- Image Column -->
      <div class="relative w-full min-h-[400px] lg:min-h-0 fade-in-section delay-200">
        <div class="relative w-full h-full lg:absolute lg:inset-0 overflow-hidden shadow-2xl">
            <img 
              src={teamImage}
              alt="Equipo legal EYM" 
              width="800"
              height="1200"
              loading="lazy"
              decoding="async"
              class="w-full h-full object-cover object-[center_top] transform hover:scale-105 transition-transform duration-700"
            />
        </div>
      </div>

    </div>

    <!-- Bottom Button - Centered below -->
    <div class="mt-12 md:mt-16 text-center fade-in-section delay-300">
         <a 
          href="/contacto" 
          class="inline-block px-8 py-3 md:px-10 md:py-4 border border-primary text-primary font-heading text-xs md:text-sm uppercase tracking-[0.2em] hover:bg-primary hover:text-accent transition-colors duration-300 shadow-lg"
        >
          Agendar Consulta
        </a>
    </div>

  </div>
</section>
